# Spec Box TMS

*Приношу извинения всем, кто был разочарован, обнаружив тут пустую страницу*

Этот репозиторий является частью [SpecBoxTMS](https://github.com/spec-box-tms)
системы управления функциональными требованиями (УФТы!)

## Концепция системы

Цель проекта: объединить проектирование требований к программному обеспечению с задачей на разработку и с планами тестирования.

Главная идей проекта заключается в переходе к описанию функциональных требований в виде простых утверждений, 
которые легко поддаются автоматизации тестирования или ручному тестированию.

Такие спецификации должны храниться вместе с исходным кодом приложения в виде yaml файлов, подробнее о которых можно прочитать в 
документации к репозиторию [SpecBoxTMS.Sync](https://github.com/spec-box-tms/sync).

Размещение спецификаций вместе с исходным кодом позволяет:

- Согласовать изменения кода и спецификаций
- Гарантировать сохранность спецификаций
- Хранить историю изменений спецификаций за счет системы контроля версий
- Производить сопоставлений имен утверждений с отчетом об автоматизированных тестах

Проект состоит из трех частей:

- Консольная утилита [SpecBoxTMS.Sync](https://github.com/spec-box-tms/sync) - выполняет валидацию содержимого yaml файлов спецификаций, 
сопоставление с отчетом об автотестах и синхронизацию с сервером требований.
- Сервер требований [SpecBoxTMS.Api](https://github.com/spec-box-tms/api) - обеспечивает хранение требований и истории тестовых запусков.
- Пользовательский интерфейс [SpecBoxTMS.Web](https://github.com/spec-box-tms/web) - пользовательский интерфейс для взаимодействия с системой
позволяет просматривать требования и объемы покрытия автоматизированными тестами, а так же выполнять тестовые запуски.
- Документация и Roadmap проекта [SpecBoxTMS.Docs](https://github.com/spec-box-tms/docs)

Данный проект является ответвлением от оригинального [SpecBox](https://github.com/spec-box)

## Запуск серверной части

- Для запуска сервера требуется БД Postgres, и сервер api
- Фронтенд упакован в контейнер nginx
- Балансир между фронтендом и бэкендом (Dockerfile в этом проекте)

Запуск проекта можно выполнить запуском docker-compose.yml из этого репозитория,
демо запуск можно производить с переменными окружения по-умолчанию.

```sh
docker-compose up -d --build
```

## Переменные окружения

Переменные окружения можно заполнить в .env файл, ниже перечислены поддерживаемые переменные

```sh
docker-compose --env-file .env up -d --build
```

- API_IMAGE - опционально путь к образу API сервера, по умолчанию `snitkody/spec-box-tms-api`
- API_VERSION - опционально, по-умолчанию `latest`
- API_HOST - опционально, по-умолчанию `api` имя хост api сервера в виртуальной сети докера
- API_PORT - опционально, по-умолчанию 80
- POSTGRES_USER - опционально, по-умолчанию `postgres`
- POSTGRES_PASSWORD - опционально, по-умолчанию `Pa$$w0rd`
- POSTGRES_DB - опционально, по-умолчанию `specbox`
- CONNECTION_STRING - опционально, если переопределяются параметры подключения к БД, то необходимо переопределять CONNECTION_STRING в формате `Host=postgres;Port=5432;Database=specbox;Username=postgres;Password=Pa$$w0rd;`
- WEB_IMAGE - опционально путь к образу API сервера, по умолчанию `snitkody/spec-box-tms-web`
- WEB_VERSION - опционально, по-умолчанию `latest`
- WEB_HOST - опционально, по-умолчанию `web` имя хост api сервера в виртуальной сети докера
- WEB_PORT - опционально, по-умолчанию 80
- ENABLE_HTTPS - по умолчанию false
- SSL_CERT - тело сертификата - обязательно для ENABLE_HTTPS=true
- SSL_KEY - приватный ключ - обязательно для ENABLE_HTTPS=true

Сервис будет доступен на портах 80 и 443, если нужно переопределить порты - то необходимо настроить порт мапинг в docker-compose.yml сервиса nginx
